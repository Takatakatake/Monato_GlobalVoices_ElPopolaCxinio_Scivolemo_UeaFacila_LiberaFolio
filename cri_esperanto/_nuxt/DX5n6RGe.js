import{i as W,r as z,w as I,a as E,o as V,b as G,c as J,g as L,e as Q,f as A,h as P,s as X,t as Y,j as Z,k as tt,l as N,m as j,n as O,p as et,q as nt,v as st,x as at,y as C,z as rt,d as ct,A as it,u as ot,B as lt,C as ht,D as ut,F as gt,E as mt,G as F,H as dt,I as ft}from"./CqRsqA85.js";const H=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function pt(s,a){a?a={...H,...a}:a=H;const n=K(a);return n.dispatch(s),n.toString()}const yt=Object.freeze(["prototype","__proto__","constructor"]);function K(s){let a="",n=new Map;const e=t=>{a+=t};return{toString(){return a},getContext(){return n},dispatch(t){return s.replacer&&(t=s.replacer(t)),this[t===null?"null":typeof t](t)},object(t){if(t&&typeof t.toJSON=="function")return this.object(t.toJSON());const r=Object.prototype.toString.call(t);let c="";const o=r.length;o<10?c="unknown:["+r+"]":c=r.slice(8,o-1),c=c.toLowerCase();let l=null;if((l=n.get(t))===void 0)n.set(t,n.size);else return this.dispatch("[CIRCULAR:"+l+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(t))return e("buffer:"),e(t.toString("utf8"));if(c!=="object"&&c!=="function"&&c!=="asyncfunction")this[c]?this[c](t):s.ignoreUnknown||this.unkown(t,c);else{let h=Object.keys(t);s.unorderedObjects&&(h=h.sort());let d=[];s.respectType!==!1&&!M(t)&&(d=yt),s.excludeKeys&&(h=h.filter(u=>!s.excludeKeys(u)),d=d.filter(u=>!s.excludeKeys(u))),e("object:"+(h.length+d.length)+":");const i=u=>{this.dispatch(u),e(":"),s.excludeValues||this.dispatch(t[u]),e(",")};for(const u of h)i(u);for(const u of d)i(u)}},array(t,r){if(r=r===void 0?s.unorderedArrays!==!1:r,e("array:"+t.length+":"),!r||t.length<=1){for(const l of t)this.dispatch(l);return}const c=new Map,o=t.map(l=>{const h=K(s);h.dispatch(l);for(const[d,i]of h.getContext())c.set(d,i);return h.toString()});return n=c,o.sort(),this.array(o,!1)},date(t){return e("date:"+t.toJSON())},symbol(t){return e("symbol:"+t.toString())},unkown(t,r){if(e(r),!!t&&(e(":"),t&&typeof t.entries=="function"))return this.array(Array.from(t.entries()),!0)},error(t){return e("error:"+t.toString())},boolean(t){return e("bool:"+t)},string(t){e("string:"+t.length+":"),e(t)},function(t){e("fn:"),M(t)?this.dispatch("[native]"):this.dispatch(t.toString()),s.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(t.name)),s.respectFunctionProperties&&this.object(t)},number(t){return e("number:"+t)},xml(t){return e("xml:"+t.toString())},null(){return e("Null")},undefined(){return e("Undefined")},regexp(t){return e("regex:"+t.toString())},uint8array(t){return e("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},uint8clampedarray(t){return e("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},int8array(t){return e("int8array:"),this.dispatch(Array.prototype.slice.call(t))},uint16array(t){return e("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},int16array(t){return e("int16array:"),this.dispatch(Array.prototype.slice.call(t))},uint32array(t){return e("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},int32array(t){return e("int32array:"),this.dispatch(Array.prototype.slice.call(t))},float32array(t){return e("float32array:"),this.dispatch(Array.prototype.slice.call(t))},float64array(t){return e("float64array:"),this.dispatch(Array.prototype.slice.call(t))},arraybuffer(t){return e("arraybuffer:"),this.dispatch(new Uint8Array(t))},url(t){return e("url:"+t.toString())},map(t){e("map:");const r=[...t];return this.array(r,s.unorderedSets!==!1)},set(t){e("set:");const r=[...t];return this.array(r,s.unorderedSets!==!1)},file(t){return e("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},blob(){if(s.ignoreUnknown)return e("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return e("domwindow")},bigint(t){return e("bigint:"+t.toString())},process(){return e("process")},timer(){return e("timer")},pipe(){return e("pipe")},tcp(){return e("tcp")},udp(){return e("udp")},tty(){return e("tty")},statwatcher(){return e("statwatcher")},securecontext(){return e("securecontext")},connection(){return e("connection")},zlib(){return e("zlib")},context(){return e("context")},nodescript(){return e("nodescript")},httpparser(){return e("httpparser")},dataview(){return e("dataview")},signal(){return e("signal")},fsevent(){return e("fsevent")},tlswrap(){return e("tlswrap")}}}const q="[native code] }",wt=q.length;function M(s){return typeof s!="function"?!1:Function.prototype.toString.call(s).slice(-wt)===q}class B{constructor(a,n){a=this.words=a||[],this.sigBytes=n===void 0?a.length*4:n}toString(a){return(a||bt).stringify(this)}concat(a){if(this.clamp(),this.sigBytes%4)for(let n=0;n<a.sigBytes;n++){const e=a.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=e<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<a.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=a.words[n>>>2];return this.sigBytes+=a.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new B([...this.words])}}const bt={stringify(s){const a=[];for(let n=0;n<s.sigBytes;n++){const e=s.words[n>>>2]>>>24-n%4*8&255;a.push((e>>>4).toString(16),(e&15).toString(16))}return a.join("")}},_t={stringify(s){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[];for(let e=0;e<s.sigBytes;e+=3){const t=s.words[e>>>2]>>>24-e%4*8&255,r=s.words[e+1>>>2]>>>24-(e+1)%4*8&255,c=s.words[e+2>>>2]>>>24-(e+2)%4*8&255,o=t<<16|r<<8|c;for(let l=0;l<4&&e*8+l*6<s.sigBytes*8;l++)n.push(a.charAt(o>>>6*(3-l)&63))}return n.join("")}},vt={parse(s){const a=s.length,n=[];for(let e=0;e<a;e++)n[e>>>2]|=(s.charCodeAt(e)&255)<<24-e%4*8;return new B(n,a)}},Dt={parse(s){return vt.parse(unescape(encodeURIComponent(s)))}};class Bt{constructor(){this._data=new B,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new B,this._nDataBytes=0}_append(a){typeof a=="string"&&(a=Dt.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes}_doProcessBlock(a,n){}_process(a){let n,e=this._data.sigBytes/(this.blockSize*4);a?e=Math.ceil(e):e=Math.max((e|0)-this._minBufferSize,0);const t=e*this.blockSize,r=Math.min(t*4,this._data.sigBytes);if(t){for(let c=0;c<t;c+=this.blockSize)this._doProcessBlock(this._data.words,c);n=this._data.words.splice(0,t),this._data.sigBytes-=r}return new B(n,r)}}class kt extends Bt{update(a){return this._append(a),this._process(),this}finalize(a){a&&this._append(a)}}const $=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],St=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],S=[];class Ct extends kt{constructor(){super(...arguments),this._hash=new B([...$])}reset(){super.reset(),this._hash=new B([...$])}_doProcessBlock(a,n){const e=this._hash.words;let t=e[0],r=e[1],c=e[2],o=e[3],l=e[4],h=e[5],d=e[6],i=e[7];for(let u=0;u<64;u++){if(u<16)S[u]=a[n+u]|0;else{const g=S[u-15],D=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,y=S[u-2],w=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;S[u]=D+S[u-7]+w+S[u-16]}const _=l&h^~l&d,b=t&r^t&c^r&c,v=(t<<30|t>>>2)^(t<<19|t>>>13)^(t<<10|t>>>22),m=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),p=i+m+_+St[u]+S[u],f=v+b;i=d,d=h,h=l,l=o+p|0,o=c,c=r,r=t,t=p+f|0}e[0]=e[0]+t|0,e[1]=e[1]+r|0,e[2]=e[2]+c|0,e[3]=e[3]+o|0,e[4]=e[4]+l|0,e[5]=e[5]+h|0,e[6]=e[6]+d|0,e[7]=e[7]+i|0}finalize(a){super.finalize(a);const n=this._nDataBytes*8,e=this._data.sigBytes*8;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[(e+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(e+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function xt(s){return new Ct().finalize(s).toString(_t)}function Pt(s,a={}){const n=typeof s=="string"?s:pt(s,a);return xt(n).slice(0,10)}function zt(s,a={}){const n=a.head||W();if(n)return n.ssr?n.push(s,a):Ot(n,s,a)}function Ot(s,a,n={}){const e=z(!1),t=z({});I(()=>{t.value=e.value?{}:Q(a)});const r=s.push(t.value,n);return E(t,o=>{r.patch(o)}),L()&&(V(()=>{r.dispose()}),G(()=>{e.value=!0}),J(()=>{e.value=!1})),r}const jt=s=>s==="defer"||s===!1;function Rt(...s){var v;const a=typeof s[s.length-1]=="string"?s.pop():void 0;typeof s[0]!="string"&&s.unshift(a);let[n,e,t={}]=s;if(typeof n!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof e!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const r=A(),c=e,o=()=>P.value,l=()=>r.isHydrating?r.payload.data[n]:r.static.data[n];t.server=t.server??!0,t.default=t.default??o,t.getCachedData=t.getCachedData??l,t.lazy=t.lazy??!1,t.immediate=t.immediate??!0,t.deep=t.deep??P.deep,t.dedupe=t.dedupe??"cancel";const h=t.getCachedData(n,r),d=h!=null;if(!r._asyncData[n]||!t.immediate){(v=r.payload._errors)[n]??(v[n]=P.errorValue);const m=t.deep?z:X;r._asyncData[n]={data:m(d?h:t.default()),pending:z(!d),error:Y(r.payload._errors,n),status:z("idle"),_default:t.default}}const i={...r._asyncData[n]};delete i._default,i.refresh=i.execute=(m={})=>{if(r._asyncDataPromises[n]){if(jt(m.dedupe??t.dedupe))return r._asyncDataPromises[n];r._asyncDataPromises[n].cancelled=!0}if(m._initial||r.isHydrating&&m._initial!==!1){const f=m._initial?h:t.getCachedData(n,r);if(f!=null)return Promise.resolve(f)}i.pending.value=!0,i.status.value="pending";const p=new Promise((f,g)=>{try{f(c(r))}catch(D){g(D)}}).then(async f=>{if(p.cancelled)return r._asyncDataPromises[n];let g=f;t.transform&&(g=await t.transform(f)),t.pick&&(g=Nt(g,t.pick)),r.payload.data[n]=g,i.data.value=g,i.error.value=P.errorValue,i.status.value="success"}).catch(f=>{if(p.cancelled)return r._asyncDataPromises[n];i.error.value=j(f),i.data.value=O(t.default()),i.status.value="error"}).finally(()=>{p.cancelled||(i.pending.value=!1,delete r._asyncDataPromises[n])});return r._asyncDataPromises[n]=p,r._asyncDataPromises[n]},i.clear=()=>Ut(r,n);const u=()=>i.refresh({_initial:!0}),_=t.server!==!1&&r.payload.serverRendered;{const m=L();if(m&&!m._nuxtOnBeforeMountCbs){m._nuxtOnBeforeMountCbs=[];const g=m._nuxtOnBeforeMountCbs;Z(()=>{g.forEach(D=>{D()}),g.splice(0,g.length)}),tt(()=>g.splice(0,g.length))}_&&r.isHydrating&&(i.error.value||h!=null)?(i.pending.value=!1,i.status.value=i.error.value?"error":"success"):m&&(r.payload.serverRendered&&r.isHydrating||t.lazy)&&t.immediate?m._nuxtOnBeforeMountCbs.push(u):t.immediate&&u();const p=et();if(t.watch){const g=E(t.watch,()=>i.refresh());p&&N(g)}const f=r.hook("app:data:refresh",async g=>{(!g||g.includes(n))&&await i.refresh()});p&&N(f)}const b=Promise.resolve(r._asyncDataPromises[n]).then(()=>i);return Object.assign(b,i),b}function Ut(s,a){a in s.payload.data&&(s.payload.data[a]=void 0),a in s.payload._errors&&(s.payload._errors[a]=P.errorValue),s._asyncData[a]&&(s._asyncData[a].data.value=void 0,s._asyncData[a].error.value=P.errorValue,s._asyncData[a].pending.value=!1,s._asyncData[a].status.value="idle"),a in s._asyncDataPromises&&(s._asyncDataPromises[a]&&(s._asyncDataPromises[a].cancelled=!0),s._asyncDataPromises[a]=void 0)}function Nt(s,a){const n={};for(const e of a)n[e]=s[e];return n}function T(s,a,n){const[e={},t]=typeof a=="string"?[{},a]:[a,n],r=nt(()=>C(s)),c=e.key||Pt([t,typeof r.value=="string"?r.value:"",...Ft(e)]);if(!c||typeof c!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+c);if(!s)throw new Error("[nuxt] [useFetch] request is missing.");const o=c===t?"$f"+c:c;if(!e.baseURL&&typeof r.value=="string"&&r.value[0]==="/"&&r.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:l,lazy:h,default:d,transform:i,pick:u,watch:_,immediate:b,getCachedData:v,deep:m,dedupe:p,...f}=e,g=st({...at,...f,cache:typeof e.cache=="boolean"?void 0:e.cache}),D={server:l,lazy:h,default:d,transform:i,pick:u,immediate:b,getCachedData:v,deep:m,dedupe:p,watch:_===!1?[]:[g,r,..._||[]]};let y;return Rt(o,()=>{var U;(U=y==null?void 0:y.abort)==null||U.call(y,"Request aborted as another request to the same endpoint was initiated."),y=typeof AbortController<"u"?new AbortController:{};const k=C(e.timeout);let x;return k&&(x=setTimeout(()=>y.abort("Request aborted due to timeout."),k),y.signal.onabort=()=>clearTimeout(x)),(e.$fetch||globalThis.$fetch)(r.value,{signal:y.signal,...g}).finally(()=>{clearTimeout(x)})},D)}function Ft(s){var n;const a=[((n=C(s.method))==null?void 0:n.toUpperCase())||"GET",C(s.baseURL)];for(const e of[s.params||s.query]){const t=C(e);if(!t)continue;const r={};for(const[c,o]of Object.entries(t))r[C(c)]=C(o);a.push(r)}return a}function Ht(s){return new URL(window.location.href)}const Mt={"belarusian.cri.cn":"his-belarusian.cgtn.com","ukrainian.cri.cn":"his-ukrainian.cgtn.com","esperanto.cri.cn":"his-esperanto.cgtn.com","polish.cri.cn":"his-polish.cgtn.com","romanian.cri.cn":"his-romanian.cgtn.com","hungarian.cri.cn":"his-hungarian.cgtn.com","croatian.cri.cn":"his-croatian.cgtn.com","bulgarian.cri.cn":"his-bulgarian.cgtn.com","albanian.cri.cn":"his-albanian.cgtn.com","czech.cri.cn":"his-czech.cgtn.com","portuguese.cri.cn":"his-portuguese.cgtn.com","italian.cri.cn":"his-italian.cgtn.com","serbian.cri.cn":"his-serbian.cgtn.com","greek.cri.cn":"his-greek.cgtn.com","german.cri.cn":"his-german.cgtn.com","swahili.cri.cn":"his-swahili.cgtn.com","turkish.cri.cn":"his-turkish.cgtn.com","hindi.cri.cn":"his-hindi.cgtn.com","cambodian.cri.cn":"his-cambodian.cgtn.com","filipino.cri.cn":"his-filipino.cgtn.com","thai.cri.cn":"his-thai.cgtn.com","vietnamese.cri.cn":"his-vietnamese.cgtn.com","myanmar.cri.cn":"his-myanmar.cgtn.com","hebrew.cri.cn":"his-hebrew.cgtn.com","sinhalese.cri.cn":"his-sinhalese.cgtn.com","hausa.cri.cn":"his-hausa.cgtn.com","laos.cri.cn":"his-laos.cgtn.com","korean.cri.cn":"his-korean.cgtn.com","indonesian.cri.cn":"his-indonesian.cgtn.com","nepal.cri.cn":"his-nepal.cgtn.com","tamil.cri.cn":"his-tamil.cgtn.com","urdu.cri.cn":"his-urdu.cgtn.com","bengali.cri.cn":"his-bengali.cgtn.com","mongol.cri.cn":"his-mongol.cgtn.com","pushtu.cri.cn":"his-pushtu.cgtn.com","malay.cri.cn":"his-malay.cgtn.com","persian.cri.cn":"his-persian.cgtn.com","japanese.cri.cn":"his-japanese.cgtn.com","belarusian.cgtn.com":"his-belarusian.cgtn.com","ukrainian.cgtn.com":"his-ukrainian.cgtn.com","esperanto.cgtn.com":"his-esperanto.cgtn.com","polish.cgtn.com":"his-polish.cgtn.com","romanian.cgtn.com":"his-romanian.cgtn.com","hungarian.cgtn.com":"his-hungarian.cgtn.com","croatian.cgtn.com":"his-croatian.cgtn.com","bulgarian.cgtn.com":"his-bulgarian.cgtn.com","albanian.cgtn.com":"his-albanian.cgtn.com","czech.cgtn.com":"his-czech.cgtn.com","portuguese.cgtn.com":"his-portuguese.cgtn.com","italian.cgtn.com":"his-italian.cgtn.com","serbian.cgtn.com":"his-serbian.cgtn.com","greek.cgtn.com":"his-greek.cgtn.com","german.cgtn.com":"his-german.cgtn.com","swahili.cgtn.com":"his-swahili.cgtn.com","turkish.cgtn.com":"his-turkish.cgtn.com","hindi.cgtn.com":"his-hindi.cgtn.com","cambodian.cgtn.com":"his-cambodian.cgtn.com","filipino.cgtn.com":"his-filipino.cgtn.com","thai.cgtn.com":"his-thai.cgtn.com","vietnamese.cgtn.com":"his-vietnamese.cgtn.com","myanmar.cgtn.com":"his-myanmar.cgtn.com","hebrew.cgtn.com":"his-hebrew.cgtn.com","sinhala.cgtn.com":"his-sinhalese.cgtn.com","hausa.cgtn.com":"his-hausa.cgtn.com","laos.cgtn.com":"his-laos.cgtn.com","korean.cgtn.com":"his-korean.cgtn.com","indonesian.cgtn.com":"his-indonesian.cgtn.com","nepal.cgtn.com":"his-nepal.cgtn.com","tamil.cgtn.com":"his-tamil.cgtn.com","urdu.cgtn.com":"his-urdu.cgtn.com","bangla.cgtn.com":"his-bengali.cgtn.com","mongol.cgtn.com":"his-mongol.cgtn.com","pashto.cgtn.com":"his-pushtu.cgtn.com","malay.cgtn.com":"his-malay.cgtn.com","persian.cgtn.com":"his-persian.cgtn.com","japanese.cgtn.com":"his-japanese.cgtn.com","espanol.cgtn.com":"his-espanol.cgtn.com","francais.cgtn.com":"his-francais.cgtn.com","arabic.cgtn.com":"his-arabic.cgtn.com","russian.cgtn.com":"his-russian.cgtn.com","localhost:3000":"his-hindi.cgtn.com","cgtn38-test-al.cri.cn":"his-hindi.cgtn.com","cgtn38-test-ws.cri.cn":"his-hindi.cgtn.com","cgtn38-test-hs.cri.cn":"his-hindi.cgtn.com"},$t=function(s,a){const n=Mt[s];if(n){const e=`http://${n}${a}`;console.info(`转发历史新闻转发: ${s}${a} => ${e}`),rt(e,{external:!0,redirectCode:302})}else throw console.error(`未发现匹配的转发路径: ${s}${a}`),j({statusCode:404,statusMessage:"Page Not Found"})};function Tt(s,a,n,e,t,r){return{"@context":"https://schema.org","@type":"ReportageNewsArticle",mainEntityOfPage:{"@type":"WebPage","@id":s},headline:a,description:e,image:n,author:{"@type":"Organization",name:"CGTN",url:"https://www.cgtn.com/about-us"},publisher:{"@type":"NewsMediaOrganization","@id":"https://www.cgtn.com/",name:"CGTN",logo:{"@type":"ImageObject",url:"https://ui.cgtn.com/static/ng/resource/images/logo_title.png"}},datePublished:t,dateModified:r}}const Et=(s,a,n)=>{const{title:e,modules:t,color:r,style:c,image:o="",id:l,brief:h="",published:d="",modified:i="",pageFlag:u,lang:_="en"}=s;let b="CGTN",v=n.startsWith("http:")?n.replace("http:","https:"):n;e&&(b=e);let m=[{name:"description",content:h},{property:"og:url",content:v},{property:"og:type",content:"article"},{property:"og:title",content:b},{property:"og:description",content:h},{property:"og:image",content:o},{property:"og:image:secure_url",content:o},{property:"og:rich_attachment",content:"true"},{property:"og:image_wechat",content:"https://news.cgtn.com/resource/default/img/icon.png"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:b},{name:"twitter:description",content:h},{name:"twitter:image:src",content:o}],p=[];p.push({rel:"canonical",href:v}),p.push({rel:"prefetch",as:"image",href:o,fetchpriority:"high"}),r+""=="1"&&p.push({rel:"stylesheet",href:"/nuxt/silence.css"});let f={htmlAttrs:{lang:_},title:b,link:p,meta:m};return c&&(f.style=[c]),l&&u&&(f.script=[{type:"application/ld+json",innerHTML:JSON.stringify(Tt(v,b,o,h,d,i))}]),f},At=ct({__name:"index",async setup(s){let a,n;const e=A(),t=it();let{host:r,protocol:c}=Ht();if(ot(),window){let w="pc";const k=window.innerWidth;k>1024?w="pc":k>=768?w="pad":w="mobile",e.vueApp.provide("currentUA",w)}const o=t.fullPath;let l=o;o.startsWith("/nuxt/")&&(l=o.substring(5,o.length));let h=`${c}//${r}`;console.log("域名为: ",h);let d=`${h}${l}`;const{data:i,error:u}=([a,n]=lt(()=>T("/api/getData",{method:"post",body:{id:d}},"$pqtWcjQkdb")),a=await a,n(),a);if(!i.value)throw j({statusCode:500,message:"error: 1001"});const{errorCode:_,result:b}=i.value;_&&_===404&&$t(r,o);const{title:v,modules:m,color:p,style:f,image:g,channel:D}=b;try{m&&(m==null||m.forEach(w=>{w.channel=D}))}catch(w){console.log("添加channel失败",w)}let y=Et(b,r,d);return zt(y),e.hook("app:error",w=>{w.data=w.stack+`
data: `+JSON.stringify(m,null,2),T("/api/sendError",{method:"post",body:{url:`${h}${o}`,info:w.stack,code:"500"}},"$cmRBlMwAGX").then(k=>{})}),(w,k)=>O(_)===0?(F(!0),ht(gt,{key:0},ut(O(m),(x,R)=>(F(),dt(ft(x.templateName),{key:R,result:x},null,8,["result"]))),128)):mt("",!0)}});export{At as default};
